<!DOCTYPE html>
<html>
<head>
    <title>WebSocket++ Ping Test</title>

    <script>
        window.onload = function ()
        {
            function connectWebSocket()
            {
                const socket = window.socket = new WebSocket('ws://localhost:4732');

                socket.addEventListener('open', (event) => {
                    socket.send('["Hello, Server!"]');
                });

                socket.addEventListener('message', (event) => {
                    console.log('Message from server:', event.data);
                });

                socket.addEventListener('close', (event) => {
                    setTimeout(connectWebSocket, 1000);
                });
            }

            // Initial connection attempt
            connectWebSocket();
        };
    </script>
</head>
<body></body>
</html>